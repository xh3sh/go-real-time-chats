# go-real-time-chats

## Описание проекта

`go-real-time-chats` - это веб-приложение, демонстрирующее различные подходы к реализации real-time чатов. Приложение разработано с использованием Go и HTMX.
Методы `ws`, `sse` и `long poll` могут общаться между собой.

## Методы взаимодействия

Приложение поддерживает следующие методы реализации real-time чатов:

- **Short Polling** - клиент регулярно отправляет запросы на сервер для проверки наличия новых сообщений.
- **Long Polling** - сервер удерживает запрос клиента открытым до появления новых данных или истечения таймаута.
- **WebSocket** - постоянное двунаправленное соединение между клиентом и сервером.
- **Server-Sent Events (SSE)** - сервер инициирует отправку данных клиенту через однонаправленное соединение.

## Используемые библиотеки и утилиты

- [Echo](https://github.com/labstack/echo) - высокопроизводительный, минималистичный веб-фреймворк для Go.
- [htmx](https://htmx.org/) - библиотека для создания динамических веб-приложений с использованием HTML.
- [yaml.v2](https://gopkg.in/yaml.v2) - библиотека для работы с YAML файлами в Go.
- [gorilla/websocket](https://github.com/gorilla/websocket) - библиотека для работы с WebSocket в Go.

## Расположение файлов
- `internal/emmit` - эмиттеры событий для упрощения работы с каналами.
- `internal/route` - маршрутизация запросов.
- `internal/handlers` - реализация эндпоинтов.
- `web/` - статичные файлы (css, html).

## Установка и запуск

### Требования

- Go 1.24.2 или выше
- Docker (опционально)

## Конфигурация

Конфигурация приложения находится в файле `config/config.yaml`. Конфигурация содержит параметры сервера, информацию о пользователе и проектах.

### Шаги для запуска

1. Клонируйте репозиторий:

    ```sh
    git clone https://github.com/zetsqio/go-htmx-example.git
    cd go-htmx-example
    ```

2. Создайте файл конфигурации:

    Создайте config.yaml и заполните согласно шаблону из config-example

3. Установите зависимости:

    ```sh
    go mod download
    ```

4. Запустите приложение:

    ```sh
    go run ./cmd/app
    ```

5. Откройте браузер и перейдите по адресу `http://localhost:80`.

### Запуск с использованием Docker
1. Создайте файл конфигурации:

    Создайте config.yaml и заполните согласно шаблону из config-example

2. Постройте Docker образ:

    ```sh
    docker build -t go-htmx-example .
    ```

3. Запустите контейнер:

    ```sh
    docker run -p 80:80 go-htmx-example
    ```

4. Откройте браузер и перейдите по адресу `http://localhost:80`.

### Запуск с использованием Docker Compose
1. Создайте файл конфигурации:

    Создайте config.yaml и заполните согласно шаблону из config-example

2. Создайте сеть:
    docker network create projects-network

3. Запуск контейнера:

    ```sh
    docker-compose up -d
    ```

### Запуск с использованием Makefile и Docker
1. Запуск проекта:
    make up

## Лицензия

Этот проект лицензирован под лицензией MIT. Подробности см. в файле `LICENSE`.