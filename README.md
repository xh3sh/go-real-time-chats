# go-real-time-chats

## Описание проекта

`go-real-time-chats` - это веб-приложение, демонстрирующее различные подходы к реализации real-time чатов. Приложение разработано с использованием Go и HTMX.
Методы могут общаться между собой, записывая историю в Redis. Чат обновляется раз в 30 минут.

## Методы взаимодействия

Приложение поддерживает следующие методы реализации real-time чатов:

- **Short Polling** - клиент регулярно отправляет запросы на сервер для проверки наличия новых сообщений.
- **Long Polling** - сервер удерживает запрос клиента открытым до появления новых данных или истечения таймаута.
- **WebSocket** - постоянное двунаправленное соединение между клиентом и сервером.
- **Server-Sent Events (SSE)** - сервер инициирует отправку данных клиенту через однонаправленное соединение.

## Используемые библиотеки и утилиты

- [Echo](https://github.com/labstack/echo) - высокопроизводительный, минималистичный веб-фреймворк для Go.
- [htmx](https://htmx.org/) - библиотека для создания динамических веб-приложений с использованием HTML.
- [gorilla/websocket](https://github.com/gorilla/websocket) - библиотека для работы с WebSocket в Go.
- [go-redis](https://github.com/redis/go-redis) - клиент Redis для Go.
- [godotenv](https://github.com/joho/godotenv) - загрузка переменных окружения из файла `.env`.

## Расположение файлов

- `cmd/app/main.go` - Точка входа в приложение, инициализация сервера, подключение к БД и запуск.
- `internal/db` - Инициализация и настройка клиента Redis.
- `internal/emmit` - Логика рассылки сообщений (broadcasting) между подключенными клиентами разных типов.
- `internal/handlers/api` - API обработчики для реализации Long Polling, Short Polling, SSE и WebSocket.
- `internal/handlers/web` - Обработчики для рендеринга HTML страниц интерфейса.
- `internal/model` - Описание структур данных (сообщения, чаты).
- `internal/repo` - Репозиторий для сохранения сообщений и управления фоновыми задачами (workers).
- `internal/route` - Определение маршрутов (routes) веб-сервера и связывание их с обработчиками.
- `internal/templates` - Утилиты для парсинга и рендеринга HTML шаблонов.
- `web/static` - Статические ресурсы (CSS файлы, изображения).
- `web/views` - HTML шаблоны страниц и переиспользуемых компонентов.

## Лицензия

Этот проект лицензирован под лицензией MIT. Подробности см. в файле `LICENSE`.
